var _0x54e86=_0x30a2;(function(_0x5a3a31,_0x54b5de){var _0x3aa631=_0x30a2,_0x2c5baa=_0x5a3a31();while(!![]){try{var _0x5f54b9=parseInt(_0x3aa631(0xc2))/0x1*(parseInt(_0x3aa631(0xbc))/0x2)+parseInt(_0x3aa631(0x95))/0x3*(-parseInt(_0x3aa631(0x7d))/0x4)+-parseInt(_0x3aa631(0xb8))/0x5+-parseInt(_0x3aa631(0x80))/0x6*(-parseInt(_0x3aa631(0x99))/0x7)+parseInt(_0x3aa631(0xd6))/0x8*(parseInt(_0x3aa631(0x91))/0x9)+parseInt(_0x3aa631(0x7f))/0xa*(parseInt(_0x3aa631(0xb1))/0xb)+parseInt(_0x3aa631(0xb9))/0xc*(-parseInt(_0x3aa631(0xcb))/0xd);if(_0x5f54b9===_0x54b5de)break;else _0x2c5baa['push'](_0x2c5baa['shift']());}catch(_0x1f347f){_0x2c5baa['push'](_0x2c5baa['shift']());}}}(_0x1fef,0xa55e1));const localVideo=document[_0x54e86(0xa2)](_0x54e86(0x89)),remoteVideo=document[_0x54e86(0xa2)](_0x54e86(0xd2)),status_value=document[_0x54e86(0xa2)](_0x54e86(0xce)),endCallBtn=document[_0x54e86(0xa2)](_0x54e86(0x85)),cameraBtn=document[_0x54e86(0xa2)](_0x54e86(0xc5)),voiceBtn=document[_0x54e86(0xa2)]('voiceBtn'),ringTone=document[_0x54e86(0xa2)]('ringTone');let isCameraOn=!![],isVoiceOn=!![],url_param=new URLSearchParams(window[_0x54e86(0x7c)][_0x54e86(0x8e)]),get_data=url_param[_0x54e86(0x8d)](_0x54e86(0x97)),ua=null,currentSession=null,hotline='';async function initializeSipClient(){var _0x153608=_0x54e86;console[_0x153608(0xcf)](_0x153608(0x7e));var _0x489bb2=_0x153608(0x88),_0x5beef8=get_data,_0x1a7166={'data':_0x5beef8},_0x303637=await postData(_0x489bb2,_0x1a7166),_0x1a7166=_0x303637['data'];if(_0x1a7166[_0x153608(0x8b)]==0x0){status_value[_0x153608(0xd1)]=_0x153608(0xab);return;}var _0x21e2d7=_0x303637[_0x153608(0x9d)],_0x1f3013=_0x1a7166[_0x153608(0x97)];hotline=_0x1f3013[_0x153608(0x9a)];var _0x458e11=new JsSIP[(_0x153608(0xc0))](_0x1f3013['websocket_server_url']),_0x46d97c={'sockets':[_0x458e11],'uri':_0x1f3013[_0x153608(0xbb)],'password':_0x1f3013[_0x153608(0xcd)],'display_name':_0x1f3013[_0x153608(0xbf)],'session_timers':![]};const _0x1a556d=new MQTTClient(_0x1f3013['call_id'],_0x1f3013['sip_call_id'],_0x1f3013['request_id'],_0x1f3013[_0x153608(0xd7)],_0x5beef8);_0x1a556d[_0x153608(0xdc)](),setTimeout(()=>{var _0x147a65=_0x153608;_0x1a556d['subscribe'](_0x147a65(0xa6)+_0x1f3013['call_id']);},0xbb8);try{ua=new JsSIP['UA'](_0x46d97c);}catch(_0xf4b1dd){console[_0x153608(0xcf)](_0x153608(0x9b)+_0xf4b1dd);return;}ua['on'](_0x153608(0xa1),()=>{var _0x5b702c=_0x153608;status_value[_0x5b702c(0xbd)]=_0x5b702c(0x87),console[_0x5b702c(0xcf)]('Connected\x20to\x20SIP\x20server'),cameraBtn[_0x5b702c(0xc1)]=![],voiceBtn[_0x5b702c(0xc1)]=![],endCallBtn[_0x5b702c(0xc1)]=![];}),ua['on'](_0x153608(0xc9),()=>{var _0x11cf2c=_0x153608;status_value[_0x11cf2c(0xbd)]=_0x11cf2c(0xba),console['error']('Disconnected\x20from\x20SIP\x20server');}),ua['on']('registered',()=>{var _0x3af21c=_0x153608;status_value['innerHTML']=_0x3af21c(0xc8),console[_0x3af21c(0xcf)](_0x3af21c(0xd3));}),ua['on'](_0x153608(0xc3),()=>{var _0x1e903e=_0x153608;status_value['innerHTML']='Unregistered',console[_0x1e903e(0xcf)]('Unregistered\x20from\x20SIP\x20server');}),ua['on'](_0x153608(0xad),_0xf9cd9d=>{var _0x4c114c=_0x153608;console[_0x4c114c(0xa3)]('Registration\x20failed:',_0xf9cd9d[_0x4c114c(0xde)]),alert('SIP\x20registration\x20failed:\x20'+_0xf9cd9d[_0x4c114c(0xde)]);}),ua['on']('newRTCSession',_0x5b881e=>{var _0x3fab09=_0x153608;const _0x235879=_0x5b881e[_0x3fab09(0xd8)];currentSession=_0x235879,_0x235879['direction']==='outgoing'?(status_value[_0x3fab09(0xbd)]=_0x3fab09(0xdb),startRingTone(),console[_0x3fab09(0xcf)](_0x3fab09(0xdb))):(console[_0x3fab09(0xcf)](_0x3fab09(0xb5),_0x235879[_0x3fab09(0xb0)][_0x3fab09(0xd9)]['toString']()),_0x235879['answer']({'mediaConstraints':{'audio':!![],'video':!![]},'pcConfig':{'iceServers':[{'urls':_0x3fab09(0xb3)},{'urls':'stun:stun.counterpath.net:3478'}]}}),status_value['innerHTML']=_0x3fab09(0xda)+_0x235879['remoteIdentity'][_0x3fab09(0xd9)]['toString']()),_0x235879['on'](_0x3fab09(0x84),()=>{var _0x3c1c67=_0x3fab09;status_value[_0x3c1c67(0xbd)]=_0x3c1c67(0x90),console[_0x3c1c67(0xcf)](_0x3c1c67(0x90));}),_0x235879['on'](_0x3fab09(0xb6),()=>{var _0x55aa5c=_0x3fab09;stopRingTone(),status_value[_0x55aa5c(0xbd)]=_0x55aa5c(0xdd),console[_0x55aa5c(0xcf)](_0x55aa5c(0xca));}),_0x235879['on'](_0x3fab09(0x82),_0x45e0e5=>{var _0x521682=_0x3fab09;status_value[_0x521682(0xbd)]='Call\x20is\x20failed',console['error'](_0x521682(0xaf),_0x45e0e5),currentSession=null;}),_0x235879['on'](_0x3fab09(0x86),()=>{var _0x2da812=_0x3fab09;stopRingTone(),status_value['innerHTML']=_0x2da812(0xa5),console[_0x2da812(0xcf)](_0x2da812(0xa4)),currentSession=null,localVideo[_0x2da812(0xac)]=null,remoteVideo['srcObject']=null;}),_0x235879['on'](_0x3fab09(0x8c),()=>{var _0x2c5c39=_0x3fab09;status_value[_0x2c5c39(0xbd)]=_0x2c5c39(0xa9);const _0x34b58b=_0x235879[_0x2c5c39(0x93)],_0x5880c3=_0x34b58b[_0x2c5c39(0xb4)]()[0x0],_0x83e37a=_0x34b58b[_0x2c5c39(0xae)]()[0x0];_0x5880c3&&(localVideo['srcObject']=_0x5880c3),document[_0x2c5c39(0xa2)](_0x2c5c39(0xd2))[_0x2c5c39(0xac)]=_0x83e37a,document['getElementById'](_0x2c5c39(0xa8))['srcObject']=_0x83e37a;}),_0x235879['on'](_0x3fab09(0xd0),()=>{var _0x46c535=_0x3fab09;const _0x23a586=_0x235879[_0x46c535(0x93)],_0x3d2196=_0x23a586[_0x46c535(0xb4)]()[0x0];_0x3d2196&&(localVideo['srcObject']=_0x3d2196),_0x23a586[_0x46c535(0xcc)]=_0x2d0268=>{var _0x32df3c=_0x46c535;remoteVideo[_0x32df3c(0xac)]=_0x2d0268[_0x32df3c(0x96)];};});}),ua['start']();}function startRingTone(){var _0x5150cc=_0x54e86;try{ringTone[_0x5150cc(0xc6)]();}catch(_0x5ef439){console[_0x5150cc(0xcf)](_0x5150cc(0x9e)+_0x5ef439);}}function stopRingTone(){var _0xca198c=_0x54e86;try{ringTone[_0xca198c(0xd4)]();}catch(_0x286ddf){console['log'](_0xca198c(0xd5),_0x286ddf);}}function toggleCamera(){var _0x46aff7=_0x54e86;if(!currentSession){status_value[_0x46aff7(0xbd)]=_0x46aff7(0xaa);return;}var _0x44031d=currentSession[_0x46aff7(0x93)][_0x46aff7(0xb4)]()[0x0],_0x234c6b=_0x44031d[_0x46aff7(0x98)]()[0x0];if(!_0x234c6b){status_value[_0x46aff7(0xbd)]=_0x46aff7(0x8a);return;}isCameraOn=!isCameraOn,_0x234c6b[_0x46aff7(0x94)]=isCameraOn,cameraBtn['classList'][_0x46aff7(0x81)]('off',!isCameraOn),cameraBtn[_0x46aff7(0xbd)]=isCameraOn?'<i\x20class=\x22bi\x20bi-camera-video-fill\x20me-1\x22></i>\x20Camera':'<i\x20class=\x22bi\x20bi-camera-video-off-fill\x20me-1\x22></i>\x20Camera';}function _0x30a2(_0x264670,_0x13e2ff){var _0x1fefe3=_0x1fef();return _0x30a2=function(_0x30a208,_0x39e9e1){_0x30a208=_0x30a208-0x7c;var _0x347d76=_0x1fefe3[_0x30a208];return _0x347d76;},_0x30a2(_0x264670,_0x13e2ff);}function toggleVoice(){var _0x433c34=_0x54e86;if(!currentSession){status_value[_0x433c34(0xbd)]='No\x20active\x20call\x20session';return;}var _0x13419a=currentSession['connection'][_0x433c34(0xb4)]()[0x0],_0x2b5bb6=_0x13419a[_0x433c34(0xbe)]()[0x0];if(!_0x2b5bb6){status_value[_0x433c34(0xbd)]=_0x433c34(0xa0);return;}isVoiceOn=!isVoiceOn,_0x2b5bb6[_0x433c34(0x94)]=isVoiceOn,voiceBtn['classList'][_0x433c34(0x81)](_0x433c34(0x92),!isVoiceOn),voiceBtn['innerHTML']=isVoiceOn?_0x433c34(0xb2):_0x433c34(0xb7);}function startSipCall(){var _0xff215b=_0x54e86;if(!ua['isRegistered']()){status_value[_0xff215b(0xbd)]=_0xff215b(0xa7);return;}if(hotline==''){status_value['innerHTML']=_0xff215b(0x8f);return;}var _0x37bbc1={'mediaConstraints':{'audio':!![],'video':!![]},'pcConfig':{'iceServers':[{'urls':_0xff215b(0xb3)},{'urls':_0xff215b(0xc4)}]}},_0x4b8cd7=ua[_0xff215b(0x9f)](hotline,_0x37bbc1);console['log'](_0xff215b(0x9c)+hotline);}function endCall(){var _0xad087c=_0x54e86;currentSession&&(currentSession[_0xad087c(0x83)](),currentSession=null,status_value[_0xad087c(0xbd)]=_0xad087c(0xa5));}async function postData(_0x4248f6,_0x4f6590){var _0x2e56fe=await axios['post'](_0x4248f6,_0x4f6590);return _0x2e56fe;}function _0x1fef(){var _0x502853=['getRemoteStreams','Call\x20failed:','remoteIdentity','123464BhOIbJ','<i\x20class=\x22bi\x20bi-mic-fill\x20me-1\x22></i>\x20Voice','stun:stun.l.google.com:19302','getLocalStreams','Incoming\x20call\x20from:','accepted','<i\x20class=\x22bi\x20bi-mic-mute-fill\x20me-1\x22></i>\x20Voice','4980960GbPQKp','576ebTkQy','Disconnected\x20Sip\x20Server','impu','644038LkypDm','innerHTML','getAudioTracks','display_name','WebSocketInterface','disabled','3YZqXuB','unregistered','stun:stun.counterpath.net:3478','cameraBtn','play','onload','Registered','disconnected','Call\x20accepted','119145GvIopD','onaddstream','password','status','log','peerconnection','textContent','remoteVideo','Registered\x20with\x20SIP\x20server','pause','Stop\x20playing\x20ringtone','56iCcLgk','phone','session','uri','Incoming\x20call\x20from:\x20','Outgoing\x20call\x20initiated','connect','Call\x20is\x20accepted','cause','location','5156eMbhmG','Used\x20to\x20be\x20in\x20this\x20init','610tECFDF','18QoTkyp','toggle','failed','terminate','progress','endCallBtn','ended','Connected\x20to\x20Sip\x20Server','https://portal-ccbs.mobimart.xyz/api/get-data','localVideo','No\x20video\x20track\x20found','error_code','confirmed','get','search','Hotline\x20number\x20not\x20found','Call\x20is\x20in\x20progress','984771VqLERN','off','connection','enabled','849HtfEaY','stream','data','getVideoTracks','143710aKgKkK','hotline','Error\x20initializing\x20sip\x20client:\x20','Call\x20initiated\x20to\x20hotline:\x20','message','Play\x20ringtone\x20exception:','call','No\x20audio\x20track\x20found','connected','getElementById','error','Call\x20ended','Call\x20Ended','UCC/VCall/','SIP\x20server\x20not\x20registered\x20yet','remoteAudio','Call\x20is\x20confirmed','No\x20active\x20call\x20session','Failed\x20to\x20get\x20SIP\x20Info','srcObject','registrationFailed'];_0x1fef=function(){return _0x502853;};return _0x1fef();}window[_0x54e86(0xc7)]=()=>{initializeSipClient();};